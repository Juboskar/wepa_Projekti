<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="fragments/layout :: head" lang="en">
        <meta charset="UTF-8" />
        <title>Signup</title>
    </head>
    <body>
        <div class="container">
            <div class="row"> 
                <div class="col-12">
                    <h1>Tervetuloa Contact Äppylään (Beta)</h1>
                </div>
            </div>
        </div>
        <div class="container" sec:authorize="isAnonymous()">
            <div class="row">
                <div class="col-12">
                    <h2>Rekisteröidy</h2>
                </div>
            </div>
            
            <div class="row">
                <div class="col-12">
                    <p>
                        Tervetuloa Contact Äppylän testiversioon! Projekti on suoritettu opiskelijatyönä ja on vielä keskeneräinen.
                    </p>
                </div>
            </div>
            
            <div class="row">
                <div class="col-12">
                    <p>Käyttäjätunnus (username) ja salasana (password) ovat kirjautumistietojasi, jotka eivät näy muille.
                        Nimi (name) ja polku (path) ovat tietoja, joiden avulla muut käyttäjät voivat löytää käyttäjätilisi.
                    </p>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <p>
                        Huom! Tilin poistamismahdollisuus ja kaveritoiminnallisuus on vastikään päivitetty ja niissä voi esiintyä bugeja. 
                        Ethän siis talleta arkaluontoista informaatiota tilillesi!
                    </p>
                </div>
            </div>

            <form method="POST" th:action="@{/welcome}" th:object="${accountDto}">
                <div class="row">
                    <div class="col-6">
                        <input th:field="*{username}" type="text" placeholder="Username" class="form-control"/>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6"  th:if="${#fields.hasErrors('username')}" th:errors="*{username}">
                        virhe
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <input th:field="*{password}" type="password" placeholder="Password" class="form-control" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-6" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">virhe</div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <input th:field="*{name}" type="text" placeholder="Name" class="form-control" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-6" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">virhe</div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <input th:field="*{userpath}" type="text" placeholder="Path" class="form-control" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-6" th:if="${#fields.hasErrors('userpath')}" th:errors="*{userpath}">virhe</div>
                </div>

                <div class="row">
                    <div class="col-3">
                        <input type="submit" value="Rekisteröidy" class="btn btn-primary"/>
                    </div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p th:text="${message}">Message</p>
                    </div>
                </div>
            </form>
            <div class="row">
                <div class="col-12">
                    <p> 
                        Onko sinulla jo tunnukset? 
                        <a th:href="@{/redirectlogin}">Kirjaudu sisään täältä!</a><br/>
                    </p>
                </div>
            </div>
        </div>
        <div class="container" sec:authorize="isAuthenticated()">
            <div class="row">
                <div class="col-9"> 
                    <p> Olet kirjautuneena! </p> 
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <form action="/home">
                        <input type="submit" value="Jatka palveluun" class="btn btn-primary"/>
                    </form> </div>
            </div>
        </div>
    </body>
</html>